var pWidth = Ti.Platform.displayCaps.platformWidth;
var pHeight = Ti.Platform.displayCaps.platformHeight;
var itemCount = 30;
var rowCount = 4;
var margin = 10;
var size = (pWidth - margin*rowCount) / rowCount;

button.addEventListener("click", refresh);

var viewContainer = Ti.UI.createView({
	width: pWidth,
	layout: "horizontal",
	top: 21
});


function refresh(){
	button.hide();
	buttonLabel.text = null;
	for (var i = 0; i < itemCount; i++){
		var view = Ti.UI.createView({
			backgroundColor: "3f3f3f",
			top: margin,
			left: margin,
			right: margin,
			width: size,
			height: size
		});
		var text = Ti.UI.createLabel({text: i+1, color: "fff"});
		view.add(text);
		viewContainer.add(view);
		mainWindow.add(viewContainer);
	};
};


